{% extends "base.html" %}

{% block title %}ØªØ³Ø¬ÙŠÙ„ Ù…Ù†Ø¸Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø© - Champion Gear{% endblock %}

{% block content %}
<div style="margin-top: 6rem; margin-bottom: 4rem;">
    <div class="page-container">
        <div class="form-container">
            <div style="text-align: center; margin-bottom: 2rem;">
                <div style="font-size: 4rem; color: #ff6b35; margin-bottom: 1rem;">ğŸ¢</div>
                <h1 style="color: #ff6b35; margin-bottom: 0.5rem;">ØªØ³Ø¬ÙŠÙ„ Ø±Ø§Ø¨Ø·Ø© Ø§Ùˆ Ù†Ø§Ø¯ÙŠ </h1>
                <p style="color: #ccc;">Ø£Ù†Ø´Ø¦ Ø­Ø³Ø§Ø¨Ø§Ù‹ Ù„Ø±Ø§Ø¨Ø·Ø© Ø§Ùˆ Ù†Ø§Ø¯ÙŠÙƒ ÙÙŠ Ù†Ø¸Ø§Ù…Ù†Ø§</p>
            </div>

            <form method="POST" action="{{ url_for('organization_signup_post') }}">
                <div class="form-group">
                    <label for="org_type">Ù†ÙˆØ¹ Ø§Ù„Ù…Ù†Ø¸Ù…Ø©</label>
                    <select id="org_type" name="org_type" required onchange="toggleFields()">
                        <option value=""></option>
                        <option value="Ø±Ø§Ø¨Ø·Ø©">Ø±Ø§Ø¨Ø·Ø©</option>
                        <option value="Ù†Ø§Ø¯ÙŠ">Ù†Ø§Ø¯ÙŠ</option>
                    </select>
                </div>
                <div id="rabita-fields" style="display: none;">
                    <div class="form-group">
                        <label for="rabita_name">Ø§Ø³Ù… Ø§Ù„Ø±Ø§Ø¨Ø·Ø©</label>
                        <input type="text" id="rabita_name" name="rabita_name" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ø±Ø§Ø¨Ø·Ø©">
                    </div>

                    <div class="form-group">
                        <label for="email">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                        <input type="email" id="email" name="email" required placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
                    </div>
                    
                    <div class="form-group">
                        <label for="rabita_username">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                        <input type="text" id="rabita_username" name="rabita_username" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
                    </div>

                    <div class="form-group">
                        <label for="rabita_password">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                        <input type="password" id="rabita_password" name="rabita_password" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
                    </div>

                    <div class="form-group">
                        <label for="rabita_confirm_password">ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                        <input type="password" id="rabita_confirm_password" name="rabita_confirm_password" placeholder="Ø£Ø¹Ø¯ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
                    </div>
                </div>
                <div id="nadi-fields" style="display: none;">
                    <div class="form-group">
                        <label for="nadi_name">Ø§Ø³Ù… Ø§Ù„Ù†Ø§Ø¯ÙŠ</label>
                        <input type="text" id="nadi_name" name="nadi_name" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù†Ø§Ø¯ÙŠ">
                    </div>

                    <div class="form-group">
                        <label for="wilaya">Ø§Ù„ÙˆÙ„Ø§ÙŠØ©</label>
                        <select id="wilaya" name="wilaya">
                            <option value="">Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ„Ø§ÙŠØ©</option>
                            <option value="01 - Ø£Ø¯Ø±Ø§Ø±">01 - Ø£Ø¯Ø±Ø§Ø±</option>
                            <option value="02 - Ø§Ù„Ø´Ù„Ù">02 - Ø§Ù„Ø´Ù„Ù</option>
                            <option value="03 - Ø§Ù„Ø£ØºÙˆØ§Ø·">03 - Ø§Ù„Ø£ØºÙˆØ§Ø·</option>
                            <option value="04 - Ø£Ù… Ø§Ù„Ø¨ÙˆØ§Ù‚ÙŠ">04 - Ø£Ù… Ø§Ù„Ø¨ÙˆØ§Ù‚ÙŠ</option>
                            <option value="05 - Ø¨Ø§ØªÙ†Ø©">05 - Ø¨Ø§ØªÙ†Ø©</option>
                            <option value="06 - Ø¨Ø¬Ø§ÙŠØ©">06 - Ø¨Ø¬Ø§ÙŠØ©</option>
                            <option value="07 - Ø¨Ø³ÙƒØ±Ø©">07 - Ø¨Ø³ÙƒØ±Ø©</option>
                            <option value="08 - Ø¨Ø´Ø§Ø±">08 - Ø¨Ø´Ø§Ø±</option>
                            <option value="09 - Ø§Ù„Ø¨Ù„ÙŠØ¯Ø©">09 - Ø§Ù„Ø¨Ù„ÙŠØ¯Ø©</option>
                            <option value="10 - Ø§Ù„Ø¨ÙˆÙŠØ±Ø©">10 - Ø§Ù„Ø¨ÙˆÙŠØ±Ø©</option>
                            <option value="11 - ØªÙ…Ù†Ø±Ø§Ø³Øª">11 - ØªÙ…Ù†Ø±Ø§Ø³Øª</option>
                            <option value="12 - ØªØ¨Ø³Ø©">12 - ØªØ¨Ø³Ø©</option>
                            <option value="13 - ØªÙ„Ù…Ø³Ø§Ù†">13 - ØªÙ„Ù…Ø³Ø§Ù†</option>
                            <option value="14 - ØªÙŠØ§Ø±Øª">14 - ØªÙŠØ§Ø±Øª</option>
                            <option value="15 - ØªÙŠØ²ÙŠ ÙˆØ²Ùˆ">15 - ØªÙŠØ²ÙŠ ÙˆØ²Ùˆ</option>
                            <option value="16 - Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±">16 - Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±</option>
                            <option value="17 - Ø§Ù„Ø¬Ù„ÙØ©">17 - Ø§Ù„Ø¬Ù„ÙØ©</option>
                            <option value="18 - Ø¬ÙŠØ¬Ù„">18 - Ø¬ÙŠØ¬Ù„</option>
                            <option value="19 - Ø³Ø·ÙŠÙ">19 - Ø³Ø·ÙŠÙ</option>
                            <option value="20 - Ø³Ø¹ÙŠØ¯Ø©">20 - Ø³Ø¹ÙŠØ¯Ø©</option>
                            <option value="21 - Ø³ÙƒÙŠÙƒØ¯Ø©">21 - Ø³ÙƒÙŠÙƒØ¯Ø©</option>
                            <option value="22 - Ø³ÙŠØ¯ÙŠ Ø¨Ù„Ø¹Ø¨Ø§Ø³">22 - Ø³ÙŠØ¯ÙŠ Ø¨Ù„Ø¹Ø¨Ø§Ø³</option>
                            <option value="23 - Ø¹Ù†Ø§Ø¨Ø©">23 - Ø¹Ù†Ø§Ø¨Ø©</option>
                            <option value="24 - Ù‚Ø§Ù„Ù…Ø©">24 - Ù‚Ø§Ù„Ù…Ø©</option>
                            <option value="25 - Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©">25 - Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©</option>
                            <option value="26 - Ø§Ù„Ù…Ø¯ÙŠØ©">26 - Ø§Ù„Ù…Ø¯ÙŠØ©</option>
                            <option value="27 - Ù…Ø³ØªØºØ§Ù†Ù…">27 - Ù…Ø³ØªØºØ§Ù†Ù…</option>
                            <option value="28 - Ø§Ù„Ù…Ø³ÙŠÙ„Ø©">28 - Ø§Ù„Ù…Ø³ÙŠÙ„Ø©</option>
                            <option value="29 - Ù…Ø¹Ø³ÙƒØ±">29 - Ù…Ø¹Ø³ÙƒØ±</option>
                            <option value="30 - ÙˆØ±Ù‚Ù„Ø©">30 - ÙˆØ±Ù‚Ù„Ø©</option>
                            <option value="31 - ÙˆÙ‡Ø±Ø§Ù†">31 - ÙˆÙ‡Ø±Ø§Ù†</option>
                            <option value="32 - Ø§Ù„Ø¨ÙŠØ¶">32 - Ø§Ù„Ø¨ÙŠØ¶</option>
                            <option value="33 - Ø¥Ù„ÙŠØ²ÙŠ">33 - Ø¥Ù„ÙŠØ²ÙŠ</option>
                            <option value="34 - Ø¨Ø±Ø¬ Ø¨ÙˆØ¹Ø±ÙŠØ±ÙŠØ¬">34 - Ø¨Ø±Ø¬ Ø¨ÙˆØ¹Ø±ÙŠØ±ÙŠØ¬</option>
                            <option value="35 - Ø¨ÙˆÙ…Ø±Ø¯Ø§Ø³">35 - Ø¨ÙˆÙ…Ø±Ø¯Ø§Ø³</option>
                            <option value="36 - Ø§Ù„Ø·Ø§Ø±Ù">36 - Ø§Ù„Ø·Ø§Ø±Ù</option>
                            <option value="37 - ØªÙ†Ø¯ÙˆÙ">37 - ØªÙ†Ø¯ÙˆÙ</option>
                            <option value="38 - ØªØ³Ù…Ø³ÙŠÙ„Øª">38 - ØªØ³Ù…Ø³ÙŠÙ„Øª</option>
                            <option value="39 - Ø§Ù„ÙˆØ§Ø¯ÙŠ">39 - Ø§Ù„ÙˆØ§Ø¯ÙŠ</option>
                            <option value="40 - Ø®Ù†Ø´Ù„Ø©">40 - Ø®Ù†Ø´Ù„Ø©</option>
                            <option value="41 - Ø³ÙˆÙ‚ Ø£Ù‡Ø±Ø§Ø³">41 - Ø³ÙˆÙ‚ Ø£Ù‡Ø±Ø§Ø³</option>
                            <option value="42 - ØªÙŠØ¨Ø§Ø²Ø©">42 - ØªÙŠØ¨Ø§Ø²Ø©</option>
                            <option value="43 - Ù…ÙŠÙ„Ø©">43 - Ù…ÙŠÙ„Ø©</option>
                            <option value="44 - Ø¹ÙŠÙ† Ø§Ù„Ø¯ÙÙ„Ù‰">44 - Ø¹ÙŠÙ† Ø§Ù„Ø¯ÙÙ„Ù‰</option>
                            <option value="45 - Ø§Ù„Ù†Ø¹Ø§Ù…Ø©">45 - Ø§Ù„Ù†Ø¹Ø§Ù…Ø©</option>
                            <option value="46 - Ø¹ÙŠÙ† ØªÙ…ÙˆØ´Ù†Øª">46 - Ø¹ÙŠÙ† ØªÙ…ÙˆØ´Ù†Øª</option>
                            <option value="47 - ØºØ±Ø¯Ø§ÙŠØ©">47 - ØºØ±Ø¯Ø§ÙŠØ©</option>
                            <option value="48 - ØºÙ„ÙŠØ²Ø§Ù†">48 - ØºÙ„ÙŠØ²Ø§Ù†</option>
                            <option value="49 - ØªÙŠÙ…ÙŠÙ…ÙˆÙ†">49 - ØªÙŠÙ…ÙŠÙ…ÙˆÙ†</option>
                            <option value="50 - Ø¨Ø±Ø¬ Ø¨Ø§Ø¬ÙŠ Ù…Ø®ØªØ§Ø±">50 - Ø¨Ø±Ø¬ Ø¨Ø§Ø¬ÙŠ Ù…Ø®ØªØ§Ø±</option>
                            <option value="51 - Ø£ÙˆÙ„Ø§Ø¯ Ø¬Ù„Ø§Ù„">51 - Ø£ÙˆÙ„Ø§Ø¯ Ø¬Ù„Ø§Ù„</option>
                            <option value="52 - Ø¨Ù†ÙŠ Ø¹Ø¨Ø§Ø³">52 - Ø¨Ù†ÙŠ Ø¹Ø¨Ø§Ø³</option>
                            <option value="53 - Ø¹ÙŠÙ† ØµØ§Ù„Ø­">53 - Ø¹ÙŠÙ† ØµØ§Ù„Ø­</option>
                            <option value="54 - Ø¹ÙŠÙ† Ù‚Ø²Ø§Ù…">54 - Ø¹ÙŠÙ† Ù‚Ø²Ø§Ù…</option>
                            <option value="55 - ØªÙˆÙ‚Ø±Øª">55 - ØªÙˆÙ‚Ø±Øª</option>
                            <option value="56 - Ø¬Ø§Ù†Øª">56 - Ø¬Ø§Ù†Øª</option>
                            <option value="57 - Ø§Ù„Ù…Ù‚Ø±Ø£Ø©">57 - Ø§Ù„Ù…Ù‚Ø±Ø£Ø©</option>
                            <option value="58 - Ø§Ù„Ù…Ù†ÙŠØ¹Ø©">58 - Ø§Ù„Ù…Ù†ÙŠØ¹Ø©</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="president_name">Ø§Ø³Ù… Ø±Ø¦ÙŠØ³ Ø§Ù„Ù†Ø§Ø¯ÙŠ</label>
                        <input type="text" id="president_name" name="president_name" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø±Ø¦ÙŠØ³ Ø§Ù„Ù†Ø§Ø¯ÙŠ">
                    </div>

                    <div class="form-group">
                        <label for="club_email">Ø§ÙŠÙ…Ø§ÙŠÙ„ Ø§Ù„Ù†Ø§Ø¯ÙŠ</label>
                        <input type="email" id="club_email" name="club_email" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù„Ù„Ù†Ø§Ø¯ÙŠ">
                    </div>

                    <div class="form-group">
                        <label for="president_phone">Ø±Ù‚Ù… Ø±Ø¦ÙŠØ³ Ø§Ù„Ù†Ø§Ø¯ÙŠ</label>
                        <input type="tel" id="president_phone" name="president_phone" placeholder="05xxxxxxxx" pattern="[0-9]{10}" title="ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ø¬Ø²Ø§Ø¦Ø±ÙŠ ØµØ­ÙŠØ­ (10 Ø£Ø±Ù‚Ø§Ù…)">
                        <small style="color: #ccc; font-size: 0.9rem; margin-top: 0.5rem; display: block;">
                            Ù…Ø«Ø§Ù„: 0555123456
                        </small>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary btn-full">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨</button>
            </form>

            <div style="text-align: center; margin-top: 2rem; padding-top: 2rem; border-top: 1px solid rgba(255,255,255,0.1);">
                <p style="color: #ccc; margin-bottom: 1rem;">Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„ØŸ</p>
                <a href="{{ url_for('organization_login') }}" class="btn btn-secondary">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a>
            </div>
        </div>
    </div>
</div>

<script>
function toggleFields() {
    const orgType = document.getElementById('org_type').value;
    const rabitaFields = document.getElementById('rabita-fields');
    const nadiFields = document.getElementById('nadi-fields');
    rabitaFields.style.display = 'none';
    nadiFields.style.display = 'none';
    clearAllInputs();
    if (orgType === 'Ø±Ø§Ø¨Ø·Ø©') {
        rabitaFields.style.display = 'block';
        setRequiredFields('rabita');
    } else if (orgType === 'Ù†Ø§Ø¯ÙŠ') {
        nadiFields.style.display = 'block';
        setRequiredFields('nadi');
    }
}

function clearAllInputs() {
    document.getElementById('rabita_name').value = '';
    document.getElementById('rabita_username').value = '';
    document.getElementById('rabita_password').value = '';
    document.getElementById('rabita_confirm_password').value = '';
    document.getElementById('nadi_name').value = '';
    document.getElementById('wilaya').value = '';
    document.getElementById('president_name').value = '';
    document.getElementById('club_email').value = '';
    document.getElementById('president_phone').value = '';
    const allInputs = document.querySelectorAll('#rabita-fields input, #rabita-fields select, #nadi-fields input, #nadi-fields select');
    allInputs.forEach(input => {
        input.removeAttribute('required');
    });
}

function setRequiredFields(type) {
    if (type === 'rabita') {
        document.getElementById('rabita_name').setAttribute('required', '');
        document.getElementById('rabita_username').setAttribute('required', '');
        document.getElementById('rabita_password').setAttribute('required', '');
        document.getElementById('rabita_confirm_password').setAttribute('required', '');
    } else if (type === 'nadi') {
        document.getElementById('nadi_name').setAttribute('required', '');
        document.getElementById('wilaya').setAttribute('required', '');
        document.getElementById('president_name').setAttribute('required', '');
        document.getElementById('club_email').setAttribute('required', '');
        document.getElementById('president_phone').setAttribute('required', '');
    }
}
document.querySelector('form').addEventListener('submit', function(e) {
    const orgType = document.getElementById('org_type').value;
    
    if (orgType === 'Ø±Ø§Ø¨Ø·Ø©') {
        const password = document.getElementById('rabita_password').value;
        const confirmPassword = document.getElementById('rabita_confirm_password').value;
        
        if (password !== confirmPassword) {
            e.preventDefault();
            alert('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©');
            return;
        }
    } else if (orgType === 'Ù†Ø§Ø¯ÙŠ') {
        const phone = document.getElementById('president_phone').value;
        const phoneRegex = /^[0-9]{10}$/;
        
        if (!phoneRegex.test(phone)) {
            e.preventDefault();
            alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ø¬Ø²Ø§Ø¦Ø±ÙŠ ØµØ­ÙŠØ­ (10 Ø£Ø±Ù‚Ø§Ù…)');
            return;
        }
        
        if (!phone.startsWith('05') && !phone.startsWith('06') && !phone.startsWith('07')) {
            e.preventDefault();
            alert('Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¨Ø¯Ø£ Ø¨Ù€ 05 Ø£Ùˆ 06 Ø£Ùˆ 07');
            return;
        }
    }
});
</script>

{% endblock %}